
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.11.4
  creationTimestamp: null
  name: isovalentsrv6sidmanagers.isovalent.com
spec:
  group: isovalent.com
  names:
    categories:
    - cilium
    - isovalent
    kind: IsovalentSRv6SIDManager
    listKind: IsovalentSRv6SIDManagerList
    plural: isovalentsrv6sidmanagers
    shortNames:
    - sidmanager
    singular: isovalentsrv6sidmanager
  scope: Cluster
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: Spec is a spec of the SID Manager.
            properties:
              locatorAllocations:
                description: LocatorAllocations is a list of locators allocated for
                  this SID manager.
                items:
                  properties:
                    locators:
                      description: Locators is a list of locators allocated from the
                        pool
                      items:
                        properties:
                          prefix:
                            description: Prefix is a locator prefix.
                            pattern: ^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))/([0-9]|[0-9][0-9]|1[0-1][0-9]|12[0-8])$
                            type: string
                          structure:
                            description: Structure is a structure of the SID. This
                              will be derived from the Structure in the IsovalentSRv6LocatorPool
                              definition.
                            properties:
                              argumentLenBits:
                                description: Argument length as described in RFC8986.
                                maximum: 128
                                minimum: 0
                                type: integer
                              functionLenBits:
                                description: Function length as described in RFC8986.
                                maximum: 128
                                minimum: 0
                                type: integer
                              locatorBlockLenBits:
                                description: Locator Block length as described in
                                  RFC8986.
                                maximum: 128
                                minimum: 0
                                type: integer
                              locatorNodeLenBits:
                                description: Locator Node length as described in RFC8986.
                                maximum: 128
                                minimum: 0
                                type: integer
                            required:
                            - argumentLenBits
                            - functionLenBits
                            - locatorBlockLenBits
                            - locatorNodeLenBits
                            type: object
                        required:
                        - prefix
                        - structure
                        type: object
                      maxItems: 1
                      type: array
                    poolRef:
                      description: PoolRef is a reference to the pool that this locator
                        is allocated from
                      type: string
                  required:
                  - locators
                  - poolRef
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - poolRef
                x-kubernetes-list-type: map
            required:
            - locatorAllocations
            type: object
          status:
            description: Status is a status of the SID Manager.
            properties:
              sidAllocations:
                description: SIDAllocations is a list of SIDs allocated by this SID
                  manager.
                items:
                  properties:
                    poolRef:
                      description: PoolRef is a reference to the pool that this SID
                        is allocated from
                      type: string
                    sids:
                      description: SIDs is a list of SID allocation information
                      items:
                        properties:
                          behavior:
                            description: Behavior is an SRv6 behavior as defined in
                              RFC8986 associated with the SID
                            enum:
                            - End.DT4
                            - End.DT6
                            - End.DT46
                            type: string
                          metadata:
                            description: MetaData is a metadata associated with the
                              SID
                            type: string
                          owner:
                            description: Owner is an owner of the SID
                            type: string
                          sid:
                            description: SID is a pair of IPv6 address and structure
                              information
                            properties:
                              addr:
                                description: Addr is an IPv6 address represents the
                                  SID
                                format: ipv6
                                type: string
                              structure:
                                description: Structure is a structure of this SID
                                properties:
                                  argumentLenBits:
                                    description: Argument length as described in RFC8986.
                                    maximum: 128
                                    minimum: 0
                                    type: integer
                                  functionLenBits:
                                    description: Function length as described in RFC8986.
                                    maximum: 128
                                    minimum: 0
                                    type: integer
                                  locatorBlockLenBits:
                                    description: Locator Block length as described
                                      in RFC8986.
                                    maximum: 128
                                    minimum: 0
                                    type: integer
                                  locatorNodeLenBits:
                                    description: Locator Node length as described
                                      in RFC8986.
                                    maximum: 128
                                    minimum: 0
                                    type: integer
                                required:
                                - argumentLenBits
                                - functionLenBits
                                - locatorBlockLenBits
                                - locatorNodeLenBits
                                type: object
                            required:
                            - addr
                            - structure
                            type: object
                        required:
                        - behavior
                        - metadata
                        - owner
                        - sid
                        type: object
                      type: array
                  required:
                  - poolRef
                  - sids
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - poolRef
                x-kubernetes-list-type: map
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
